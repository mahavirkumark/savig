<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Savig</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

    <style>
        body { font-family: 'Poppins', sans-serif; background-color: #f0f4f8; margin: 0; padding: 0; }
        
        /* --- FIX: Splash Screen MUST have a higher z-index and be visible --- */
        #splash-screen {
            position: fixed; inset: 0; background: #ffffff; z-index: 99999;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            opacity: 1; visibility: visible; transition: opacity 0.6s ease;
        }

        /* Animations */
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        @keyframes slideUpReveal { from { transform: translateY(100%); } to { transform: translateY(0); } }
        
        .brand-reveal { animation: slideUpReveal 1s forwards; }
        .shimmer-effect {
            background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.4), transparent);
            animation: shimmer 1.5s infinite;
        }
        @keyframes shimmer { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }

        /* Main Content visibility */
        .main-content { opacity: 0; transition: opacity 0.5s ease; }
        .content-ready .main-content { opacity: 1; }
        
        #msgBox {
            position: fixed; top: 20px; right: 20px; z-index: 100000;
            opacity: 0; transform: translateX(100%); transition: 0.3s;
            display: flex; align-items: center; gap: 8px; padding: 12px 20px; border-radius: 8px;
        }
        #msgBox.show { opacity: 1; transform: translateX(0); }
        .success { background-color: #d1fae5; color: #065f46; border: 1px solid #34d399; }
        .error { background-color: #fee2e2; color: #991b1b; border: 1px solid #f87171; }
        
        #google_translate_element, .skiptranslate { display: none !important; }
    </style>
</head>
<body class="min-h-screen flex flex-col justify-between">

    <div id="splash-screen" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: white; z-index: 10000; display: flex; flex-direction: column; align-items: center; justify-content: center; transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1);">
        
        <div class="relative mb-8 flex items-center justify-center">
            <div class="absolute rounded-full border-2 border-blue-50" style="width: 150px; height: 150px; animation: ping 2.5s infinite;"></div>
            <div class="absolute rounded-full border-2 border-blue-600 border-t-transparent shadow-lg" style="width: 110px; height: 110px; animation: spin 1s linear infinite;"></div>
            
            <div class="relative flex items-center justify-center" style="animation: float 3s ease-in-out infinite;">
                <i class="fas fa-shield text-blue-600" style="font-size: 70px; filter: drop-shadow(0 4px 6px rgba(37,99,235,0.2));"></i>
                <i class="fas fa-database text-white absolute" style="font-size: 28px; top: 48%; left: 50%; transform: translate(-50%, -40%);"></i>
            </div>
        </div>
        
        <div class="text-center mb-4 overflow-hidden">
            <h1 class="text-5xl font-black text-gray-900 tracking-tighter brand-reveal" style="letter-spacing: -3px;">SAVIG</h1>
            <p class="text-gray-400 text-[10px] uppercase tracking-[0.4em] mt-2 font-bold opacity-0" style="animation: fadeIn 1s forwards 0.5s;">Secure Personal Hub</p>
        </div>
        
        <div class="h-10 flex flex-col items-center justify-center">
            <div id="splash-text" class="text-blue-600 font-bold text-[11px] uppercase tracking-[0.2em] text-center transition-all duration-300">
                Initializing Secure Environment
            </div>
        </div>

        <div class="w-60 h-1.5 bg-gray-100 rounded-full mt-4 overflow-hidden relative shadow-inner">
            <div id="splash-progress" class="h-full bg-blue-600 transition-all duration-300 relative" style="width: 0%;">
                <div class="absolute top-0 left-0 w-full h-full shimmer-effect"></div>
            </div>
        </div>
    </div>
    <nav class="bg-white shadow-sm py-2" style="margin-bottom: 30px;">
    <div class="container mx-auto px-2">
        <div class="flex items-center gap-1">
            <div class="relative flex items-center justify-center">
                <i class="fas fa-shield  text-blue-600" style="font-size:27px;"></i>
                <i class="fas fa-database text-white absolute" style="font-size: 14px; top: 50%; transform: translateY(-50%);"></i>
            </div>
            <span class="font-black text-gray-900 tracking-tighter" style="font-size: 21px;">Savig</span>
        </div>
    </div>
</nav>
<div id="login-msg" style="display:none; color: #721c24; background-color: #f8d7da; border: 1px solid #f5c6cb; padding: 12px; margin: 0 auto 20px auto; border-radius: 4px; text-align: center; font-family: sans-serif; max-width: 90%;">
    <strong>Security Timeout:</strong> Your session has expired. Please try to login again.
</div>
<main class="flex-grow flex items-center justify-center p-6 relative">
    <div class="w-full grid grid-cols-1 lg:grid-cols-3 gap-8 items-start lg:items-center max-w-7xl">

        <div class="hidden lg:block space-y-6 order-2 lg:order-1" style="animation: slideInLeft 1s ease-out forwards; opacity: 1;">
            <div class="p-5 bg-white rounded-xl shadow-lg transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl">
                <div class="flex items-center gap-3 mb-2">
                    <i class="fas fa-chart-line text-2xl text-blue-600"></i>
                    <h3 class="text-lg font-bold text-gray-800">Financial Management</h3>
                </div>
                <p class="text-gray-600 text-sm leading-relaxed">
                    Track your income and expenses to gain a clear, real-time understanding of your cash flow.
                </p>
            </div>
            <div class="p-5 bg-white rounded-xl shadow-lg transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl">
                <div class="flex items-center gap-3 mb-2">
                    <i class="fas fa-address-book text-2xl text-blue-600"></i>
                    <h3 class="text-lg font-bold text-gray-800">Secure Contacts Manager</h3>
                </div>
                <p class="text-gray-600 text-sm leading-relaxed">
                    Keep all your contacts organized and secure. Easily add, edit, or delete contact information.
                </p>
            </div>
        </div>

        <div class="w-full flex justify-center items-center relative order-1 lg:order-2">
            <div id="loginCard" class="bg-white rounded-xl p-8 shadow-2xl w-full max-w-xs text-center" style="animation: fadeInZoom 0.8s ease-out forwards;">
                <div id="step1">
                    <h2 class="text-2xl font-bold mb-4 text-gray-800">Login to Your Hub</h2>
                    <p class="text-gray-600 mb-6 text-sm">Access your secure personal dashboard with your Google account.</p>
                    <button id="googleLoginBtn" class="flex items-center justify-center gap-2 text-base font-semibold px-5 py-3 rounded-full bg-white text-gray-800 border-2 border-blue-600 shadow-md mx-auto hover:bg-blue-600 hover:text-white transition-all w-full">
                        <img src="https://developers.google.com/identity/images/g-logo.png" style="width: 20px; height: 20px;"> Sign in with Google
                    </button>
                </div>

                <div id="step2" class="hidden">
                    <h2 class="text-2xl font-bold mb-4">Enter Otp</h2>
                    <p id="otp-info" class="text-xs text-gray-500 mb-4"></p>
                    <div class="flex justify-between gap-1 mb-8" id="otpBox">
                        <input type="text" maxlength="1" inputmode="numeric" autocomplete="one-time-code" class="w-8 h-12 border-2 rounded-lg text-center font-bold text-xl focus:border-blue-600 outline-none">
                        <input type="text" maxlength="1" inputmode="numeric" class="w-8 h-12 border-2 rounded-lg text-center font-bold text-xl focus:border-blue-600 outline-none">
                        <input type="text" maxlength="1" inputmode="numeric" class="w-8 h-12 border-2 rounded-lg text-center font-bold text-xl focus:border-blue-600 outline-none">
                        <input type="text" maxlength="1" inputmode="numeric" class="w-8 h-12 border-2 rounded-lg text-center font-bold text-xl focus:border-blue-600 outline-none">
                        <input type="text" maxlength="1" inputmode="numeric" class="w-8 h-12 border-2 rounded-lg text-center font-bold text-xl focus:border-blue-600 outline-none">
                        <input type="text" maxlength="1" inputmode="numeric" class="w-8 h-12 border-2 rounded-lg text-center font-bold text-xl focus:border-blue-600 outline-none">
                    </div>
                    <div class="text-xs text-gray-400">Expires in: <span id="timer" class="text-red-500 font-bold">03:00</span></div>
                    <button id="verify-btn" onclick="checkAndVerify()" class="mt-4 w-full bg-blue-600 text-white py-2 rounded-full font-bold hidden">Verify</button>
                </div>
            </div>
        </div>

        <div class="hidden lg:block space-y-6 order-3" style="animation: slideInRight 1s ease-out forwards; opacity: 1;">
            <div class="p-5 bg-white rounded-xl shadow-lg transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl">
                <div class="flex items-center gap-3 mb-2">
                    <i class="fas fa-lock text-2xl text-blue-600"></i>
                    <h3 class="text-lg font-bold text-gray-800">Advanced Password Vault</h3>
                </div>
                <p class="text-gray-600 text-sm leading-relaxed">
                    Secure all your online credentials in one place with military-grade encryption.
                </p>
            </div>
            <div class="p-5 bg-white rounded-xl shadow-lg transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl">
                <div class="flex items-center gap-3 mb-2">
                    <i class="fas fa-link text-2xl text-blue-600"></i>
                    <h3 class="text-lg font-bold text-gray-800">Personalized Link Hub</h3>
                </div>
                <p class="text-gray-600 text-sm leading-relaxed">
                    Organize your bookmarks and digital resources in a centralized hub.
                </p>
            </div>
        </div>

    </div>
</main>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
        <section class="py-12 md:py-16 bg-gray-50">
        <div class="container mx-auto px-6">
            <h2 class="section-title" style="animation: slideInUp 1s ease-out forwards; opacity: 0; animation-delay: 0.2s;">About This App</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="p-5 bg-white rounded-xl shadow-md text-center" style="animation: slideInUp 0.8s ease-out forwards; opacity: 0; animation-delay: 0.1s;">
                    <i class="fas fa-database text-4xl text-blue-600 mb-3"></i>
                    <h3 class="text-lg font-semibold mb-2">Your Digital Vault</h3>
                    <p class="text-gray-600 text-base leading-relaxed">
                        A single platform that combines financial tracking, secure storage, and personal management. Say goodbye to scattered apps.
                    </p>
                </div>
                <div class="p-5 bg-white rounded-xl shadow-md text-center" style="animation: slideInUp 0.8s ease-out forwards; opacity: 0; animation-delay: 0.3s;">
                    <i class="fas fa-users text-4xl text-blue-600 mb-3"></i>
                    <h3 class="text-lg font-semibold mb-2">Personal & Professional</h3>
                    <p class="text-gray-600 text-base leading-relaxed">
                        Whether you're a student, working professional, or entrepreneur—this hub adapts to your lifestyle and keeps you organized.
                    </p>
                </div>
                <div class="p-5 bg-white rounded-xl shadow-md text-center" style="animation: slideInUp 0.8s ease-out forwards; opacity: 0; animation-delay: 0.5s;">
                    <i class="fas fa-shield-alt text-4xl text-blue-600 mb-3"></i>
                    <h3 class="text-lg font-semibold mb-2">Privacy First</h3>
                    <p class="text-gray-600 text-base leading-relaxed">
                        Designed with security at its core. Your personal information stays private and under your control, always.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <section class="py-12 md:py-16 bg-white">
        <div class="container mx-auto px-6">
            <h2 class="section-title" style="animation: slideInUp 1s ease-out forwards; opacity: 0; animation-delay: 0.2s;">Key Benefits</h2>
            <div class="space-y-8 relative border-l-4 border-blue-500 pl-4 max-w-3xl mx-auto">
                <div style="animation: slideInUp 0.8s ease-out forwards; opacity: 0; animation-delay: 0.1s;">
                    <h3 class="text-lg font-bold text-blue-600 mb-1"><i class="fas fa-bullseye mr-2"></i> Stay Focused</h3>
                    <p class="text-gray-600 text-base">No distractions—only essential tools you need daily to save time and improve productivity.</p>
                </div>
                <div style="animation: slideInUp 0.8s ease-out forwards; opacity: 0; animation-delay: 0.3s;">
                    <h3 class="text-lg font-bold text-blue-600 mb-1"><i class="fas fa-coins mr-2"></i> Smarter Finances</h3>
                    <p class="text-gray-600 text-base">Automatically track your income, savings, and expenses in a visually engaging way.</p>
                </div>
                <div style="animation: slideInUp 0.8s ease-out forwards; opacity: 0; animation-delay: 0.5s;">
                    <h3 class="text-lg font-bold text-blue-600 mb-1"><i class="fas fa-globe mr-2"></i> Access Anywhere</h3>
                    <p class="text-gray-600 text-base">Fully cloud-based—your data follows you across all devices, with secure access.</p>
                </div>
            </div>
        </div>
    </section>

    

    <section class="py-12 md:py-16">
        <div class="container mx-auto px-6">
            <h2 class="section-title" style="animation: slideInUp 1s ease-out forwards; opacity: 0; animation-delay: 0.2s;">Why Choose Us?</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="p-5 bg-white rounded-xl shadow-md text-center" style="animation: slideInUp 0.8s ease-out forwards; opacity: 0; animation-delay: 0.1s;">
                    <div class="mb-3">
                        <i class="fas fa-user-shield text-4xl text-blue-500"></i>
                    </div>
                    <h3 class="text-lg font-semibold mb-1">Advanced Security Protocols</h3>
                    <p class="text-gray-600 text-sm">Your data is protected by a two-factor authentication system, combining a secure Google login with a personal PIN.</p>
                </div>
                <div class="p-5 bg-white rounded-xl shadow-md text-center" style="animation: slideInUp 0.8s ease-out forwards; opacity: 0; animation-delay: 0.3s;">
                    <div class="mb-3">
                        <i class="fas fa-lightbulb text-4xl text-blue-500"></i>
                    </div>
                    <h3 class="text-lg font-semibold mb-1">All-in-One Convenience</h3>
                    <p class="text-gray-600 text-sm">Say goodbye to scattered apps. Manage your finances, contacts, passwords, and links from a single, seamless dashboard.</p>
                </div>
                <div class="p-5 bg-white rounded-xl shadow-md text-center" style="animation: slideInUp 0.8s ease-out forwards; opacity: 0; animation-delay: 0.5s;">
                    <div class="mb-3">
                        <i class="fas fa-cogs text-4xl text-blue-500"></i>
                    </div>
                    <h3 class="text-lg font-semibold mb-1">Seamless User Experience</h3>
                    <p class="text-gray-600 text-sm">Our modern, intuitive interface is designed for simplicity, making it easy for anyone to get organized without a steep learning curve.</p>
                </div>
                <div class="p-5 bg-white rounded-xl shadow-md text-center" style="animation: slideInUp 0.8s ease-out forwards; opacity: 0; animation-delay: 0.7s;">
                    <div class="mb-3">
                        <i class="fas fa-mobile-alt text-4xl text-blue-500"></i>
                    </div>
                    <h3 class="text-lg font-semibold mb-1">Mobile-Friendly Design</h3>
                    <p class="text-gray-600 text-sm">Access your personal hub on the go, with a design optimized for any device, from your desktop to your smartphone.</p>
                </div>
            </div>
        </div>
    </section>



   
   
</body>
<div id="msgBox" style="position: fixed; top: 20px; right: 20px; padding: 10px 18px; border: 1px solid; border-radius: 6px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); z-index: 999; font-weight: 500;"></div>
<script>
    // --- 1. Configuration & Initialization ---
    const firebaseConfig = {
        apiKey: "AIzaSyB78RTVCg0cmSPp7A1RJyyAgBuCeolO0cc",
        authDomain: "sk12-58e9e.firebaseapp.com",
        projectId: "sk12-58e9e",
        storageBucket: "sk12-58e9e.appspot.com",
        messagingSenderId: "470207874652",
        appId: "1:470207874652:web:67ba1cf3629b7e5b144899"
    };

    if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const provider = new firebase.auth.GoogleAuthProvider();
    emailjs.init("NbamX634Y_o570cNw");

    let generatedOTP = null;
    let otpExpiryTime = null;
    let timerInterval = null;

    const splashTextEl = document.getElementById("splash-text");
    const splashScreenEl = document.getElementById("splash-screen");
    const getStep1 = () => document.getElementById('step1') || document.getElementById('loginCard');
    const getStep2 = () => document.getElementById('step2') || document.getElementById('pinCard');

    // --- 2. Splash Animation ---
    const splashMessages = ["Establishing Secure Connection...", "Encrypting Your Data Vault...", "Finalizing Privacy Protocols...", "Ready to Secure Your Life."];
    let msgIndex = 0;
    const msgInterval = setInterval(() => {
        msgIndex++;
        if (splashTextEl && splashMessages[msgIndex]) {
            splashTextEl.innerText = splashMessages[msgIndex];
        }
    }, 1200);

    // --- 3. Compulsory Authentication Logic ---
    auth.onAuthStateChanged((user) => {
        const isVerified = localStorage.getItem('savig_otp_verified');

        setTimeout(() => {
            if (user && isVerified === 'true') {
                // If both are true, skip to home
                window.location.replace("homemob.html");
            } else {
                // If logged out OR logged in but NOT verified (post-logout), show UI
                hideSplash();
                if (user) {
                    // Compulsory OTP flow: User is authenticated but flag is missing
                    switchToOTPScreen(user);
                } else {
                    // Show login button if no user at all
                    const s1 = getStep1();
                    if(s1) s1.classList.remove('hidden');
                }
            }
        }, 500);
    });

    // --- 4. Google Login ---
    const loginBtn = document.getElementById("googleLoginBtn");
    if (loginBtn) {
        loginBtn.onclick = async () => {
            try {
                // Clear any old verification just in case before new login
                localStorage.removeItem('savig_otp_verified'); 
                await auth.signInWithPopup(provider);
                showMsg("Authenticated!", true);
            } catch (e) {
                showMsg(e.message, false);
            }
        };
    }

    // --- 5. OTP Management ---
    function switchToOTPScreen(user) {
        const s1 = getStep1();
        const s2 = getStep2();

        if (s1) s1.classList.add('hidden');
        if (s2) s2.classList.remove('hidden');

        if (!generatedOTP) {
            generatedOTP = Math.floor(100000 + Math.random() * 900000).toString();
            otpExpiryTime = Date.now() + (3 * 60000);

            emailjs.send('service_2ucolxw', 'template_iknmqfs', {
                user_email: user.email,
                passcode: generatedOTP,
                time: new Date(otpExpiryTime).toLocaleTimeString()
            }).then(() => showMsg("OTP Sent to Email", true))
              .catch(() => showMsg("Email failed", false));

            startTimer(180);
        }
        
        const inputs = document.querySelectorAll('#otpBox input');
        if (inputs[0]) setTimeout(() => inputs[0].focus(), 500);
    }

    const otpInputs = document.querySelectorAll('#otpBox input');
    otpInputs.forEach((input, index) => {
        input.addEventListener('input', (e) => {
            if (e.target.value && index < otpInputs.length - 1) {
                otpInputs[index + 1].focus();
            }
            
            const code = Array.from(otpInputs).map(i => i.value).join('');
            if (code.length === 6) {
                if (code === generatedOTP && Date.now() <= otpExpiryTime) {
                    // Set the compulsory verification flag
                    localStorage.setItem('savig_otp_verified', 'true');
                    showMsg("Access Granted!", true);
                    setTimeout(() => window.location.replace("homemob.html"), 800);
                } else {
                    showMsg("Invalid/Expired OTP", false);
                    otpInputs.forEach(i => i.value = '');
                    otpInputs[0].focus();
                }
            }
        });
        input.addEventListener('keydown', (e) => {
            if (e.key === 'Backspace' && !e.target.value && index > 0) otpInputs[index - 1].focus();
        });
    });

    // --- 6. Helpers ---
    function hideSplash() {
        if (splashScreenEl) {
            clearInterval(msgInterval);
            splashScreenEl.style.opacity = '0';
            setTimeout(() => {
                splashScreenEl.style.display = 'none';
                document.body.classList.add('translation-ready');
            }, 600);
        }
    }

    function startTimer(seconds) {
        clearInterval(timerInterval);
        let time = seconds;
        timerInterval = setInterval(() => {
            const mins = Math.floor(time / 60);
            const secs = time % 60;
            const display = document.getElementById('timer');
            if (display) display.innerText = `${mins}:${secs < 10 ? '0' : ''}${secs}`;
            if (--time < 0) {
                clearInterval(timerInterval);
                generatedOTP = null; 
                showMsg("OTP Expired", false);
            }
        }, 1000);
    }

    function showMsg(m, s) {
        const b = document.getElementById('msgBox');
        if (!b) return;
        b.innerText = m;
        b.className = `show ${s ? 'success' : 'error'}`;
        setTimeout(() => b.classList.remove('show'), 3000);
    }
</script>
</body>
</html>







