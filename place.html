<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> My Personal Website</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* --- General Styling and Scrollbar --- */
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: #9ca3af;
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background-color: #f3f4f6;
        }

        /* --- Content Protection/Logged Out State --- */
        .content-hidden {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 200px;
            text-align: center;
            color: #6b7280;
            border: 2px dashed #d1d5db;
            border-radius: 12px;
            margin-top: 16px;
            font-size: 1.125rem;
            font-weight: 500;
        }

        /* --- Description List Formatting --- */
        .description-list {
            list-style-type: disc;
            margin-left: 24px;
            padding-left: 0;
            margin-top: 8px;
            font-size: 0.95rem;
            color: #374151;
        }
        .description-list li {
            margin-bottom: 4px;
        }

        /* --- Professional Action Button Hover --- */
        .action-btn {
            padding: 8px;
            border-radius: 50%;
            transition: all 0.2s ease-in-out;
            font-size: 1.25rem;
        }
        .action-btn.edit:hover {
            background-color: #dbeafe;
            color: #2563eb;
            transform: scale(1.1);
        }
        .action-btn.delete:hover {
            background-color: #fee2e2;
            color: #dc2626;
            transform: scale(1.1);
        }
        .action-btn.share:hover {
            background-color: #d1fae5;
            color: #059669;
            transform: scale(1.1);
        }
        .text-primary-indigo {
            color: #4f46e5;
        }

        /* Custom class to hide display content and show form content */
        .display-content { display: block; }
        .edit-form-content { display: none; }
        .editing .display-content { display: none; }
        .editing .edit-form-content { display: block; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">

    <nav class="bg-white shadow-lg fixed w-full z-50 top-0">
        <div class="container mx-auto flex justify-between items-center p-4 md:px-8">
            <div class="flex items-center gap-2 text-xl font-bold text-gray-800">
                <i class="fas fa-user-circle" style="font-size: 28px; color: #4f46e5;"></i>
                <span style="font-size: 22px;">My Personal Website</span>
            </div>

            <div class="hidden md:flex space-x-6 font-medium">
                <a href="home.html" class="flex items-center gap-2 transition duration-300 text-gray-600 hover:text-blue-500 hover:-translate-y-0.5" style="font-size: 18px;"><i class="fas fa-house"></i> Home</a>
                <a href="birthday.html" class="flex items-center gap-2 transition duration-300 text-gray-600 hover:text-blue-500 hover:-translate-y-0.5" style="font-size: 18px;"><i class="fas fa-birthday-cake"></i> Birthday</a>
                <a href="password.html" class="flex items-center gap-2 transition duration-300 text-gray-600 hover:text-blue-500 hover:-translate-y-0.5" style="font-size: 18px;"><i class="fas fa-key"></i> Passwords</a>
                <a href="income.html" class="flex items-center gap-2 transition duration-300 text-gray-600 hover:text-blue-500 hover:-translate-y-0.5" style="font-size: 18px;"><i class="fas fa-wallet"></i> Income</a>
                <a href="links.html" class="flex items-center gap-2 transition duration-300 text-gray-600 hover:text-blue-500 hover:-translate-y-0.5" style="font-size: 18px;"><i class="fas fa-link"></i> Links</a>
                <a href="calendar.html" class="flex items-center gap-2 transition duration-300 text-gray-600 hover:text-blue-500 hover:-translate-y-0.5" style="font-size: 18px;"><i class="fas fa-calendar-alt"></i> Calendar</a>
            </div>

            <div class="hidden md:flex items-center gap-4">
                <div class="text-right">
                    <p id="userName" class="font-bold text-gray-900">Guest</p>
                    <p id="userEmail" class="text-sm text-gray-500">Sign In Required</p>
                </div>
                <img id="userPhoto" src="https://via.placeholder.com/40" style="width: 40px; height: 40px; border-radius: 50%; border: 2px solid #4f46e5; object-fit: cover;">

                <button id="authButton" onclick="handleAuth()" class="bg-indigo-600 text-white px-4 py-2 rounded-full font-semibold shadow-md hover:bg-indigo-700 transition duration-300">
                    <i class="fab fa-google mr-2"></i> Sign In
                </button>
            </div>

            <button id="menu-btn" class="md:hidden text-gray-700 text-2xl"><i class="fas fa-bars"></i></button>
        </div>

        <div id="mobileMenu" class="hidden md:hidden flex flex-col px-4 pb-4 space-y-2 text-sm text-gray-700 font-medium bg-gray-50">
            <a href="home.html" class="flex items-center gap-2 p-2 rounded hover:bg-gray-200 hover:text-blue-500 transition duration-300"><i class="fas fa-house"></i> Home</a>
            <a href="birthday.html" class="flex items-center gap-2 p-2 rounded hover:bg-gray-200 hover:text-blue-500 transition duration-300"><i class="fas fa-birthday-cake"></i> Birthday</a>
            <a href="password.html" class="flex items-center gap-2 p-2 rounded hover:bg-gray-200 hover:text-blue-500 transition duration-300"><i class="fas fa-key"></i> Passwords</a>
            <a href="income.html" class="flex items-center gap-2 p-2 rounded hover:bg-gray-200 hover:text-blue-500 transition duration-300"><i class="fas fa-wallet"></i> Income</a>
            <a href="links.html" class="flex items-center gap-2 p-2 rounded hover:bg-gray-200 hover:text-blue-500 transition duration-300"><i class="fas fa-link"></i> Links</a>
            <a href="calendar.html" class="flex items-center gap-2 p-2 rounded hover:bg-gray-200 hover:text-blue-500 transition duration-300"><i class="fas fa-calendar-alt"></i> Calendar</a>
            <div class="border-t border-gray-300 mt-2 pt-2">
                <p id="mobileUserName" class="font-bold text-gray-900">Guest</p>
                <p id="mobileUserEmail" class="text-xs text-gray-500">Sign In Required</p>
                <button id="mobileAuthButton" onclick="handleAuth()" class="bg-indigo-600 text-white px-3 py-2 rounded-full hover:bg-indigo-700 mt-2 w-full">
                    <i class="fab fa-google mr-2"></i> Sign In
                </button>
            </div>
        </div>
    </nav>

    <main class="pt-24 pb-16 h-screen flex flex-col">
        <div class="container mx-auto flex-1 p-4 md:px-8 grid grid-cols-1 md:grid-cols-3 gap-6">

            <div id="dataFormContainer" class="md:col-span-1 bg-white p-8 rounded-xl shadow-2xl border border-gray-200 h-fit">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-3">üìå Add New Tourist Place</h2>
                <form id="dataForm" class="space-y-5">

                    <div>
                        <label for="placeName" class="block text-sm font-semibold text-gray-700">Place Name / Sight</label>
                        <input type="text" id="placeName" name="placeName" required
                                class="mt-1 block w-full px-4 py-2 border-2 border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 transition duration-150">
                    </div>

                    <div>
                        <label for="description" class="block text-sm font-semibold text-gray-700">Notes / Details (e.g., tickets, timings)</label>
                        <textarea id="description" name="description" rows="5" required
                                    class="mt-1 block w-full px-4 py-2 border-2 border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 transition duration-150"></textarea>
                    </div>

                    <button type="submit" id="saveButton"
                            class="w-full py-3 px-4 border border-transparent rounded-lg shadow-lg text-lg font-bold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-4 focus:ring-offset-2 focus:ring-indigo-500 transition duration-300 ease-in-out">
                        <i class="fas fa-save mr-2"></i> Save Place
                    </button>
                </form>
            </div>

            <div class="md:col-span-2 bg-white p-8 rounded-xl shadow-2xl border border-gray-200 flex flex-col">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-3">üåç Saved Tourist Places</h2>

                <div class="mb-5">
                    <div class="relative">
                        <input type="text" id="searchBar" onkeyup="searchData()" placeholder="Search places or notes..."
                                class="w-full pl-10 pr-4 py-2 border-2 border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 transition duration-150">
                        <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    </div>
                </div>

                <div id="dataList" class="flex-1 overflow-y-auto custom-scrollbar space-y-5 pr-3">
                    <p id="loadingMessage" class="text-center text-gray-500 py-12 text-lg">
                        <i class="fas fa-spinner fa-spin mr-2"></i> 
                    </p>
                </div>
            </div>
        </div>
    </main>
 <footer class="bg-white text-gray-900 text-center py-4 text-sm mt-10">
¬† ¬† &copy; 2025 My Personal Website | All Rights Reserved.
</footer>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>

<script>
    let database;
    let touristRef;
    let isUserSignedIn = false;
    let userData = {};
    let allTouristPlaces = [];

    // === 1. FIREBASE CONFIGURATION ===
    const firebaseConfig = {
        apiKey: "AIzaSyB78RTVCg0cmSPp7A1RJyyAgBuCeolO0cc",
        authDomain: "sk12-58e9e.firebaseapp.com",
        projectId: "sk12-58e9e",
        storageBucket: "sk12-58e9e.appspot.com",
        messagingSenderId: "470207874652",
        appId: "1:470207874652:web:67ba1cf3629b7e5b144899",
        databaseURL: "https://sk12-58e9e-default-rtdb.firebaseio.com"
    };

    if (!firebase.apps.length) {
        firebase.initializeApp(firebaseConfig);
    }

    database = firebase.database();
    const googleProvider = new firebase.auth.GoogleAuthProvider();

    // =========================================================================
    // üîë AUTH Logic & User Data Fetching 
    // =========================================================================

    window.handleAuth = function() {
        if (isUserSignedIn) {
            // --- CHANGE 1: Logout and Redirect to index.html ---
            firebase.auth().signOut().then(() => {
                 window.location.href = 'index.html';
            });
        } else {
            firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL)
                .then(() => {
                    return firebase.auth().signInWithPopup(googleProvider);
                })
                .catch((error) => {
                    alert(`Authentication Error: ${error.message}`);
                });
        }
    };

    firebase.auth().onAuthStateChanged((user) => {

        const userNameEl = document.getElementById('userName');
        const userEmailEl = document.getElementById('userEmail');
        const userPhotoEl = document.getElementById('userPhoto');
        const authButton = document.getElementById('authButton');
        const mobileAuthButton = document.getElementById('mobileAuthButton');
        const dataList = document.getElementById('dataList');
        const formContainer = document.getElementById('dataFormContainer');

        const searchBar = document.getElementById('searchBar');

        isUserSignedIn = !!user;

        if (user) {
            const USER_ID = user.uid;
            touristRef = database.ref(`users/${USER_ID}/tourist`);

            userData = { uid: USER_ID, name: user.displayName, email: user.email, photoURL: user.photoURL };
            userNameEl.textContent = user.displayName || "User";
            userEmailEl.textContent = user.email || "No email";
            userPhotoEl.src = user.photoURL || "https://via.placeholder.com/40/4f46e5/ffffff?text=U";
            document.getElementById('mobileUserName').textContent = userNameEl.textContent;
            document.getElementById('mobileUserEmail').textContent = userEmailEl.textContent;

            // Desktop Button: Already set to 'Logout' (NO ICON)
            authButton.innerHTML = 'Logout';
            authButton.classList.remove('bg-indigo-600', 'hover:bg-indigo-700');
            authButton.classList.add('bg-red-500', 'hover:bg-red-600');
            
            // --- CHANGE 2: Removing the icon from the mobile button (Line 99) ---
            mobileAuthButton.innerHTML = 'Logout';
            mobileAuthButton.classList.remove('bg-indigo-600', 'hover:bg-indigo-700');
            mobileAuthButton.classList.add('bg-red-500', 'hover:bg-red-600');

            formContainer.classList.remove('hidden');
            searchBar.closest('div').classList.remove('hidden'); 
            dataList.innerHTML = '<p class="text-center text-gray-500 py-12 text-lg"><i class="fas fa-spinner fa-spin mr-2"></i> Loading places...</p>';

            attachDatabaseListeners();

        } else {
            touristRef = null;
            userData = {};
            allTouristPlaces = []; 

            userNameEl.textContent = "Guest";
            userEmailEl.textContent = "Sign In Required";
            userPhotoEl.src = "https://via.placeholder.com/40/6b7280/FFFFFF?text=G";
            document.getElementById('mobileUserName').textContent = "Guest";
            document.getElementById('mobileUserEmail').textContent = "Sign In Required";

            authButton.innerHTML = '<i class="fab fa-google mr-2"></i> Sign In';
            authButton.classList.remove('bg-red-500', 'hover:bg-red-600');
            authButton.classList.add('bg-indigo-600', 'hover:bg-indigo-700');
            mobileAuthButton.innerHTML = '<i class="fab fa-google mr-2"></i> Sign In';
            mobileAuthButton.classList.remove('bg-red-500', 'hover:bg-red-600');
            mobileAuthButton.classList.add('bg-indigo-600', 'hover:bg-indigo-700');

            formContainer.classList.add('hidden');
            searchBar.closest('div').classList.add('hidden'); 
            dataList.innerHTML = '<div class="content-hidden"><p>Please sign in with Google.</p></div>';
        }
    });

    function formatDate(timestamp) {
        if (!timestamp) return 'Date N/A';
        const date = new Date(timestamp);
        return date.toLocaleDateString('en-US', {
            year: 'numeric',
            month: 'short',
            day: 'numeric',
            hour: '2-digit',
            minute: '2-digit'
        });
    }

    function attachDatabaseListeners() {
        if (!touristRef) return;
        const form = document.getElementById('dataForm');
        form.removeEventListener('submit', submitData);
        form.addEventListener('submit', submitData);
        touristRef.off('value');
        touristRef.on('value', (snapshot) => {
            const items = [];
            if (snapshot.exists()) {
                snapshot.forEach((childSnapshot) => {
                    items.push({ key: childSnapshot.key, data: childSnapshot.val() });
                });
            }
            allTouristPlaces = items.reverse();
            renderDataList(allTouristPlaces);
        }, (error) => {
            document.getElementById('dataList').innerHTML = `<p class="text-center text-red-500 py-12 text-lg">Error loading data: ${error.message}</p>`;
        });
    }

    function renderDataList(items) {
        const dataList = document.getElementById('dataList');
        dataList.innerHTML = '';

        if (items.length === 0) {
             dataList.innerHTML = '<p class="text-center text-gray-500 py-12 text-lg">No places found matching your search or no places saved yet.</p>';
             return;
        }

        items.forEach(({ key, data }) => {
            const card = createDataCard(key, data);
            dataList.appendChild(card);
        });
    }

    window.searchData = function() {
        const query = document.getElementById('searchBar').value.toLowerCase();
        if (!query) {
            renderDataList(allTouristPlaces);
            return;
        }
        const filteredData = allTouristPlaces.filter(({ data }) =>
            (data.placeName && data.placeName.toLowerCase().includes(query)) ||
            (data.description && data.description.toLowerCase().includes(query))
        );
        renderDataList(filteredData);
    };

    function submitData(e) {
        e.preventDefault();
        if (!touristRef) {
            displayMessage("Please sign in to save data.", true);
            return;
        }
        const placeName = document.getElementById('placeName').value;
        const description = document.getElementById('description').value;
        touristRef.push({
            placeName: placeName,
            description: description,
            createdAt: firebase.database.ServerValue.TIMESTAMP
        }).then(() => {
            displayMessage("Place Saved!", false);
            document.getElementById('dataForm').reset();
        }).catch(error => {
            displayMessage(`Error: ${error.message}`, true);
        });
    }

    function displayMessage(message, isError = false) {
        const saveButton = document.getElementById('saveButton');
        const originalHTML = '<i class="fas fa-save mr-2"></i> Save Place';

        saveButton.innerHTML = `<i class="fas fa-${isError ? 'exclamation-triangle' : 'check'} mr-2"></i> ${message}`;
        saveButton.classList.remove('bg-indigo-600', 'hover:bg-indigo-700', 'bg-red-500', 'hover:bg-red-600', 'bg-green-500', 'hover:bg-green-600');
        saveButton.classList.add(isError ? 'bg-red-500 hover:bg-red-600' : 'bg-green-600', 'hover:bg-green-700');

        setTimeout(() => {
            saveButton.innerHTML = originalHTML;
            saveButton.classList.remove('bg-green-600', 'hover:bg-green-700', 'bg-red-500', 'hover:bg-red-600');
            saveButton.classList.add('bg-indigo-600', 'hover:bg-indigo-700');
        }, 3000);
    }

    function createDataCard(key, data) {
        const descriptionLines = data.description.split('\n').filter(line => line.trim() !== '');
        const descriptionHTML = descriptionLines.length > 0
            ? `<ul class="description-list">${descriptionLines.map(line => `<li>${line.trim()}</li>`).join('')}</ul>`
            : `<p class="text-sm text-gray-600 mt-1 pl-6 italic">No detailed notes.</p>`;

        const escapedName = data.placeName.replace(/'/g, "\\'");
        const escapedDesc = data.description.replace(/`/g, '\\`').replace(/'/g, "\\'").replace(/"/g, '\\"');

        const creationDate = formatDate(data.createdAt);
        const updateDate = data.updatedAt ? formatDate(data.updatedAt) : 'Never';

        const dateText = data.updatedAt
            ? `<span class="text-xs text-gray-500 block text-right">Updated: ${updateDate}</span>`
            : `<span class="text-xs text-gray-500 block text-right">Saved: ${creationDate}</span>`;

        const card = document.createElement('div');
        card.id = `data-${key}`;
        card.className = 'bg-white p-6 rounded-xl border border-gray-200 shadow-md transition duration-300 hover:shadow-lg';
        card.innerHTML = `
            <div class="display-content">
                
                <div class="flex justify-between items-center mb-3">
                     <h3 class="text-xl font-extrabold text-indigo-700 max-w-[70%] md:max-w-full">${data.placeName}</h3>
                     
                     <div class="md:hidden flex space-x-1 items-center">
                        <button onclick="editData('${key}', '${escapedName}', \`${data.description.replace(/`/g, '\\`')}\`, '${creationDate}', '${updateDate}')" class="action-btn edit text-blue-500" title="Edit"><i class="fas fa-pencil-alt"></i></button>
                        <button onclick="deleteData('${key}')" class="action-btn delete text-red-500" title="Delete"><i class="fas fa-trash-alt"></i></button>
                         </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-4 gap-4 items-start">
                    
                    <div class="md:col-span-3">
                       ${descriptionHTML}
                    </div>

                    <div class="hidden md:flex md:col-span-1 flex-col items-end w-full">
                        
                        <div class="space-x-1 flex items-center mb-1">
                            <button onclick="editData('${key}', '${escapedName}', \`${data.description.replace(/`/g, '\\`')}\`, '${creationDate}', '${updateDate}')" class="action-btn edit text-blue-500" title="Edit"><i class="fas fa-pencil-alt"></i></button>
                            <button onclick="deleteData('${key}')" class="action-btn delete text-red-500" title="Delete"><i class="fas fa-trash-alt"></i></button>
                            <button onclick="shareData('${escapedName}', '${escapedDesc}')" class="action-btn share text-green-500" title="Share"><i class="fas fa-share-alt"></i></button>
                        </div>
                        
                        <div>${dateText}</div>
                    </div>
                </div>
            </div>

            <div class="edit-form-content space-y-4">
                <form id="editForm-${key}" onsubmit="saveEdit(event, '${key}')" class="space-y-4">
                    <div class="text-sm text-gray-600 border-b pb-2">
                         <p><strong>Saved:</strong> <span id="view-createdAt-${key}"></span></p>
                         <p><strong>Last Edit:</strong> <span id="view-updatedAt-${key}"></span></p>
                    </div>

                    <div>
                        <label for="editName-${key}" class="block text-sm font-semibold text-gray-700">Place Name</label>
                        <input type="text" id="editName-${key}" name="placeName" required
                            class="mt-1 block w-full px-3 py-2 border-2 border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 transition duration-150">
                    </div>
                    <div>
                        <label for="editDesc-${key}" class="block text-sm font-semibold text-gray-700">Notes / Details</label>
                        <textarea id="editDesc-${key}" name="description" rows="5" required
                            class="mt-1 block w-full px-3 py-2 border-2 border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 transition duration-150"></textarea>
                    </div>
                    <div class="flex space-x-3">
                        <button type="submit" class="flex-1 py-2 px-4 rounded-lg font-bold text-white bg-green-600 hover:bg-green-700 transition duration-300">
                            <i class="fas fa-check mr-2"></i> Save Changes
                        </button>
                        <button type="button" onclick="cancelEdit('${key}')" class="flex-1 py-2 px-4 rounded-lg font-bold text-gray-700 bg-gray-200 hover:bg-gray-300 transition duration-300">
                            <i class="fas fa-times mr-2"></i> Cancel
                        </button>
                    </div>
                </form>
            </div>
        `;
        return card;
    }

    window.deleteData = function(key) {
        if (!touristRef) { alert('Please sign in to manage data.'); return; }
        if (confirm("Are you sure you want to delete this place?")) {
            touristRef.child(key).remove()
                .then(() => { console.log("Place deleted successfully"); })
                .catch((error) => { alert(`Deletion failed: ${error.message}`); });
        }
    };

    window.editData = function(key, currentName, currentDesc, creationDate, updateDate) {
        if (!touristRef) { alert('Please sign in to manage data.'); return; }

        const card = document.getElementById(`data-${key}`);
        const editNameInput = document.getElementById(`editName-${key}`);
        const editDescInput = document.getElementById(`editDesc-${key}`);
        const createdAtEl = document.getElementById(`view-createdAt-${key}`);
        const updatedAtEl = document.getElementById(`view-updatedAt-${key}`);

        if (card) {
            editNameInput.value = currentName;
            editDescInput.value = currentDesc;

            createdAtEl.textContent = creationDate;
            updatedAtEl.textContent = updateDate;

            card.classList.add('editing');
            editNameInput.focus();
        }
    };

    window.saveEdit = function(e, key) {
        e.preventDefault();
        if (!touristRef) { alert('Please sign in to manage data.'); return; }

        const newName = document.getElementById(`editName-${key}`).value.trim();
        const newDesc = document.getElementById(`editDesc-${key}`).value.trim();
        const card = document.getElementById(`data-${key}`);

        if (!newName || !newDesc) {
            alert("Place Name and Notes cannot be empty.");
            return;
        }

        touristRef.child(key).once('value')
            .then((snapshot) => {
                const currentData = snapshot.val();
                if (!currentData) { alert("Error: Place data not found."); return; }

                currentData.placeName = newName;
                currentData.description = newDesc;
                currentData.updatedAt = firebase.database.ServerValue.TIMESTAMP;

                return touristRef.child(key).set(currentData);
            })
            .then(() => {
                console.log("Place updated successfully.");
                if (card) card.classList.remove('editing');
            })
            .catch((error) => {
                alert(`Update failed: ${error.message}.`);
            });
    };

    window.cancelEdit = function(key) {
        const card = document.getElementById(`data-${key}`);
        if (card) {
            card.classList.remove('editing');
        }
    };

    window.shareData = function(name, desc) {
        if (navigator.share) {
            navigator.share({
                title: `My Tourist Place: ${name}`,
                text: `Place: ${name}\nNotes:\n${desc}`,
            }).then(() => { console.log('Successful share'); })
              .catch((error) => { console.log('Error sharing:', error); });
        } else {
            const shareText = `Place: ${name}\nNotes:\n${desc}`;
            navigator.clipboard.writeText(shareText);
            alert(`Place details copied to clipboard:\n\n${shareText}`);
        }
    };

    document.getElementById('menu-btn').addEventListener('click', function() {
        document.getElementById('mobileMenu').classList.toggle('hidden');
    });
</script>
</body>
</html>