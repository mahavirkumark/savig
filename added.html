
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>MyTracker</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
<link rel="manifest" href="manifest.json?v=2">

<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#2196F3">

<link rel="apple-touch-icon" href="icon-192.jpg">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <style>
        /* --- RESTORED GLOBAL AND ANIMATION STYLES --- */
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f0f4f8;
            overflow-x: hidden;
        }
        @keyframes fadeInZoom {
            0% { opacity: 0; transform: scale(0.8); }
            100% { opacity: 1; transform: scale(1); }
        }
        @keyframes slideInLeft {
            0% { opacity: 0; transform: translateX(-50px); }
            100% { opacity: 1; transform: translateX(0); }
        }
        @keyframes slideInRight {
            0% { opacity: 0; transform: translateX(50px); }
            100% { opacity: 1; transform: translateX(0); }
        }
        @keyframes slideInUp {
            0% { opacity: 0; transform: translateY(50px); }
            100% { opacity: 1; transform: translateY(0); }
        }
        .section-title {
            font-size: 2rem; 
            font-weight: 700;
            text-align: center;
            color: #1f2937;
            margin-bottom: 2.5rem; 
        }

        /* --- RESTORED MESSAGE BOX STYLES --- */
        #msgBox {
            /* Initial state for hidden/off-screen */
            opacity: 0;
            transform: translateX(100%);
            /* Transition for smooth animation */
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
            /* Ensure it is block/flex for content */
            display: flex;
            align-items: center;
            gap: 8px; 
        }
        #msgBox.show {
            /* End state for visible/on-screen */
            opacity: 1;
            transform: translateX(0);
        }
        #msgBox.success {
            background-color: #d1fae5; /* Tailwind bg-green-100 */
            color: #065f46; /* Tailwind text-green-800 */
            border-color: #34d399; /* Tailwind border-green-400 */
        }
        #msgBox.error {
            background-color: #fee2e2; /* Tailwind bg-red-100 */
            color: #991b1b; /* Tailwind text-red-800 */
            border-color: #f87171; /* Tailwind border-red-400 */
        }
    </style>
</head>

<body class="min-h-screen flex flex-col justify-between">
<nav class="bg-white shadow-sm py-4" style="margin-bottom: 30px;">
    <div class="container mx-auto px-2">
<div class="font-bold text-gray-800 flex items-center gap-1" style="font-size: 21px;">
            <i class="fas fa-user-circle text-3xl text-blue-600"></i>
            <span class="font-bold text-gray-800">MyTracker</span>
        </div>
    </div>
</nav>

<div id="login-msg" style="display:none; color: #721c24; background-color: #f8d7da; border: 1px solid #f5c6cb; padding: 12px; margin: 0 auto 20px auto; border-radius: 4px; text-align: center; font-family: sans-serif; max-width: 90%;">
    <strong>Security Timeout:</strong> Your session has expired. Please try to login again.
</div>
<main class="flex-grow flex items-center justify-center p-6 relative">
    <div class="w-full grid grid-cols-1 lg:grid-cols-3 gap-8 items-start lg:items-center max-w-7xl">

        <div class="hidden lg:block space-y-6 order-2 lg:order-1" style="animation: slideInLeft 1s ease-out forwards; opacity: 1;">
            <div class="p-5 bg-white rounded-xl shadow-lg transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl">
                <div class="flex items-center gap-3 mb-2">
                    <i class="fas fa-chart-line text-2xl text-blue-600"></i>
                    <h3 class="text-lg font-bold text-gray-800">Financial Management</h3>
                </div>
                <p class="text-gray-600 text-sm leading-relaxed">
                    Track your income and expenses to gain a clear, real-time understanding of your cash flow.
                </p>
            </div>
            <div class="p-5 bg-white rounded-xl shadow-lg transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl">
                <div class="flex items-center gap-3 mb-2">
                    <i class="fas fa-address-book text-2xl text-blue-600"></i>
                    <h3 class="text-lg font-bold text-gray-800">Secure Contacts Manager</h3>
                </div>
                <p class="text-gray-600 text-sm leading-relaxed">
                    Keep all your contacts organized and secure. Easily add, edit, or delete contact information.
                </p>
            </div>
        </div>

        <div class="w-full flex justify-center items-center relative order-1 lg:order-2">
            <div id="loginCard" class="bg-white rounded-xl p-8 shadow-2xl w-full max-w-xs text-center" style="animation: fadeInZoom 0.8s ease-out forwards;">
                <div id="step1">
                    <h2 class="text-2xl font-bold mb-4 text-gray-800">Login to Your Hub</h2>
                    <p class="text-gray-600 mb-6 text-sm">Access your secure personal dashboard with your Google account.</p>
                    <button id="googleLoginBtn" class="flex items-center justify-center gap-2 text-base font-semibold px-5 py-3 rounded-full bg-white text-gray-800 border-2 border-blue-600 shadow-md mx-auto hover:bg-blue-600 hover:text-white transition-all w-full">
                        <img src="https://developers.google.com/identity/images/g-logo.png" style="width: 20px; height: 20px;"> Sign in with Google
                    </button>
                </div>

                <div id="step2" class="hidden">
                    <h2 class="text-2xl font-bold mb-4">Verify Identity</h2>
                    <p id="otp-info" class="text-xs text-gray-500 mb-4"></p>
                    <div class="flex justify-between gap-1 mb-8" id="otpBox">
                        <input type="text" maxlength="1" inputmode="numeric" autocomplete="one-time-code" class="w-10 h-12 border-2 rounded-lg text-center font-bold text-xl focus:border-blue-600 outline-none">
                        <input type="text" maxlength="1" inputmode="numeric" class="w-10 h-12 border-2 rounded-lg text-center font-bold text-xl focus:border-blue-600 outline-none">
                        <input type="text" maxlength="1" inputmode="numeric" class="w-10 h-12 border-2 rounded-lg text-center font-bold text-xl focus:border-blue-600 outline-none">
                        <input type="text" maxlength="1" inputmode="numeric" class="w-10 h-12 border-2 rounded-lg text-center font-bold text-xl focus:border-blue-600 outline-none">
                        <input type="text" maxlength="1" inputmode="numeric" class="w-10 h-12 border-2 rounded-lg text-center font-bold text-xl focus:border-blue-600 outline-none">
                        <input type="text" maxlength="1" inputmode="numeric" class="w-10 h-12 border-2 rounded-lg text-center font-bold text-xl focus:border-blue-600 outline-none">
                    </div>
                    <div class="text-xs text-gray-400">Expires in: <span id="timer" class="text-red-500 font-bold">03:00</span></div>
                    <button id="verify-btn" onclick="checkAndVerify()" class="mt-4 w-full bg-blue-600 text-white py-2 rounded-full font-bold hidden">Verify</button>
                </div>
            </div>
        </div>

        <div class="hidden lg:block space-y-6 order-3" style="animation: slideInRight 1s ease-out forwards; opacity: 1;">
            <div class="p-5 bg-white rounded-xl shadow-lg transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl">
                <div class="flex items-center gap-3 mb-2">
                    <i class="fas fa-lock text-2xl text-blue-600"></i>
                    <h3 class="text-lg font-bold text-gray-800">Advanced Password Vault</h3>
                </div>
                <p class="text-gray-600 text-sm leading-relaxed">
                    Secure all your online credentials in one place with military-grade encryption.
                </p>
            </div>
            <div class="p-5 bg-white rounded-xl shadow-lg transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl">
                <div class="flex items-center gap-3 mb-2">
                    <i class="fas fa-link text-2xl text-blue-600"></i>
                    <h3 class="text-lg font-bold text-gray-800">Personalized Link Hub</h3>
                </div>
                <p class="text-gray-600 text-sm leading-relaxed">
                    Organize your bookmarks and digital resources in a centralized hub.
                </p>
            </div>
        </div>

    </div>
</main>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
        <section class="py-12 md:py-16 bg-gray-50">
        <div class="container mx-auto px-6">
            <h2 class="section-title" style="animation: slideInUp 1s ease-out forwards; opacity: 0; animation-delay: 0.2s;">About This Website</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="p-5 bg-white rounded-xl shadow-md text-center" style="animation: slideInUp 0.8s ease-out forwards; opacity: 0; animation-delay: 0.1s;">
                    <i class="fas fa-database text-4xl text-blue-600 mb-3"></i>
                    <h3 class="text-lg font-semibold mb-2">Your Digital Vault</h3>
                    <p class="text-gray-600 text-base leading-relaxed">
                        A single platform that combines financial tracking, secure storage, and personal management. Say goodbye to scattered apps.
                    </p>
                </div>
                <div class="p-5 bg-white rounded-xl shadow-md text-center" style="animation: slideInUp 0.8s ease-out forwards; opacity: 0; animation-delay: 0.3s;">
                    <i class="fas fa-users text-4xl text-blue-600 mb-3"></i>
                    <h3 class="text-lg font-semibold mb-2">Personal & Professional</h3>
                    <p class="text-gray-600 text-base leading-relaxed">
                        Whether you're a student, working professional, or entrepreneur‚Äîthis hub adapts to your lifestyle and keeps you organized.
                    </p>
                </div>
                <div class="p-5 bg-white rounded-xl shadow-md text-center" style="animation: slideInUp 0.8s ease-out forwards; opacity: 0; animation-delay: 0.5s;">
                    <i class="fas fa-shield-alt text-4xl text-blue-600 mb-3"></i>
                    <h3 class="text-lg font-semibold mb-2">Privacy First</h3>
                    <p class="text-gray-600 text-base leading-relaxed">
                        Designed with security at its core. Your personal information stays private and under your control, always.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <section class="py-12 md:py-16 bg-white">
        <div class="container mx-auto px-6">
            <h2 class="section-title" style="animation: slideInUp 1s ease-out forwards; opacity: 0; animation-delay: 0.2s;">Key Benefits</h2>
            <div class="space-y-8 relative border-l-4 border-blue-500 pl-4 max-w-3xl mx-auto">
                <div style="animation: slideInUp 0.8s ease-out forwards; opacity: 0; animation-delay: 0.1s;">
                    <h3 class="text-lg font-bold text-blue-600 mb-1"><i class="fas fa-bullseye mr-2"></i> Stay Focused</h3>
                    <p class="text-gray-600 text-base">No distractions‚Äîonly essential tools you need daily to save time and improve productivity.</p>
                </div>
                <div style="animation: slideInUp 0.8s ease-out forwards; opacity: 0; animation-delay: 0.3s;">
                    <h3 class="text-lg font-bold text-blue-600 mb-1"><i class="fas fa-coins mr-2"></i> Smarter Finances</h3>
                    <p class="text-gray-600 text-base">Automatically track your income, savings, and expenses in a visually engaging way.</p>
                </div>
                <div style="animation: slideInUp 0.8s ease-out forwards; opacity: 0; animation-delay: 0.5s;">
                    <h3 class="text-lg font-bold text-blue-600 mb-1"><i class="fas fa-globe mr-2"></i> Access Anywhere</h3>
                    <p class="text-gray-600 text-base">Fully cloud-based‚Äîyour data follows you across all devices, with secure access.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="py-12 md:py-16 bg-white">
        <div class="container mx-auto px-6">
            <h2 class="section-title mb-10" style="animation: slideInUp 1s ease-out forwards; opacity: 0; animation-delay: 0.2s;">How It Works</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                <div class="flex flex-col items-center" style="animation: slideInUp 0.8s ease-out forwards; opacity: 0; animation-delay: 0.1s;">
                    <i class="fas fa-user-plus text-4xl text-blue-500 mb-3"></i>
                    <h3 class="text-lg font-semibold mb-1">Step 1: Get Started</h3>
                    <p class="text-gray-600 text-base leading-relaxed">
                        Sign up instantly using your **Google account**. This provides a secure, familiar, and quick way to get access to your personal hub.
                    </p>
                </div>
                <div class="flex flex-col items-center" style="animation: slideInUp 0.8s ease-out forwards; opacity: 0; animation-delay: 0.3s;">
                    <i class="fas fa-key text-4xl text-blue-500 mb-3"></i>
                    <h3 class="text-lg font-semibold mb-1">Step 2: Set Your PIN</h3>
                    <p class="text-gray-600 text-base leading-relaxed">
                        For an added layer of security, you'll be prompted to create a personal **4-6 digit PIN**. This ensures that only you can access your data.
                    </p>
                </div>
                <div class="flex flex-col items-center" style="animation: slideInUp 0.8s ease-out forwards; opacity: 0; animation-delay: 0.5s;">
                    <i class="fas fa-cubes text-4xl text-blue-500 mb-3"></i>
                    <h3 class="text-lg font-semibold mb-1">Step 3: Start Organizing</h3>
                    <p class="text-gray-600 text-base leading-relaxed">
                        Once inside, you're free to use our suite of tools: manage your finances, store passwords securely, and organize your digital contacts.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <section class="py-12 md:py-16">
        <div class="container mx-auto px-6">
            <h2 class="section-title" style="animation: slideInUp 1s ease-out forwards; opacity: 0; animation-delay: 0.2s;">Why Choose Us?</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="p-5 bg-white rounded-xl shadow-md text-center" style="animation: slideInUp 0.8s ease-out forwards; opacity: 0; animation-delay: 0.1s;">
                    <div class="mb-3">
                        <i class="fas fa-user-shield text-4xl text-blue-500"></i>
                    </div>
                    <h3 class="text-lg font-semibold mb-1">Advanced Security Protocols</h3>
                    <p class="text-gray-600 text-sm">Your data is protected by a two-factor authentication system, combining a secure Google login with a personal PIN.</p>
                </div>
                <div class="p-5 bg-white rounded-xl shadow-md text-center" style="animation: slideInUp 0.8s ease-out forwards; opacity: 0; animation-delay: 0.3s;">
                    <div class="mb-3">
                        <i class="fas fa-lightbulb text-4xl text-blue-500"></i>
                    </div>
                    <h3 class="text-lg font-semibold mb-1">All-in-One Convenience</h3>
                    <p class="text-gray-600 text-sm">Say goodbye to scattered apps. Manage your finances, contacts, passwords, and links from a single, seamless dashboard.</p>
                </div>
                <div class="p-5 bg-white rounded-xl shadow-md text-center" style="animation: slideInUp 0.8s ease-out forwards; opacity: 0; animation-delay: 0.5s;">
                    <div class="mb-3">
                        <i class="fas fa-cogs text-4xl text-blue-500"></i>
                    </div>
                    <h3 class="text-lg font-semibold mb-1">Seamless User Experience</h3>
                    <p class="text-gray-600 text-sm">Our modern, intuitive interface is designed for simplicity, making it easy for anyone to get organized without a steep learning curve.</p>
                </div>
                <div class="p-5 bg-white rounded-xl shadow-md text-center" style="animation: slideInUp 0.8s ease-out forwards; opacity: 0; animation-delay: 0.7s;">
                    <div class="mb-3">
                        <i class="fas fa-mobile-alt text-4xl text-blue-500"></i>
                    </div>
                    <h3 class="text-lg font-semibold mb-1">Mobile-Friendly Design</h3>
                    <p class="text-gray-600 text-sm">Access your personal hub on the go, with a design optimized for any device, from your desktop to your smartphone.</p>
                </div>
            </div>
        </div>
    </section>



<footer class="bg-white text-gray-900 text-center py-4 text-sm mt-10">
    &copy; 2025 My Personal Website | All Rights Reserved.
</footer>

<div id="msgBox" style="position: fixed; top: 20px; right: 20px; padding: 10px 18px; border: 1px solid; border-radius: 6px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); z-index: 999; font-weight: 500;"></div>

<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>
<script>
   // --- Firebase Configuration (Using your provided IDs) ---
const firebaseConfig = {
    apiKey: "AIzaSyB78RTVCg0cmSPp7A1RJyyAgBuCeolO0cc",
    authDomain: "sk12-58e9e.firebaseapp.com",
    projectId: "sk12-58e9e",
    storageBucket: "sk12-58e9e.appspot.com",
    messagingSenderId: "470207874652",
    appId: "1:470207874652:web:67ba1cf3629b7e5b144899"
};

// Initialize Firebase
if (!firebase.apps.length) {
    firebase.initializeApp(firebaseConfig);
}

const auth = firebase.auth();
const db = firebase.firestore();
const provider = new firebase.auth.GoogleAuthProvider();

// Initialize EmailJS
emailjs.init("NbamX634Y_o570cNw");

let generatedOTP = null;
let otpExpiryTime = null;
let timerInterval = null;

// Selectors
const step1 = document.getElementById('step1');
const step2 = document.getElementById('step2');
const otpInputs = document.querySelectorAll('#otpBox input');
const timerDisplay = document.getElementById('timer');

// --- 1. Step 1: Google Login Trigger ---
document.getElementById("googleLoginBtn").onclick = async () => {
    try {
        const result = await auth.signInWithPopup(provider);
        const user = result.user;

        // Fast Database Update
        await db.collection("users").doc(user.uid).set({
            email: user.email,
            lastLogin: new Date()
        }, { merge: true });

        // Instant UI Transition
        step1.classList.add('hidden');
        step2.classList.remove('hidden');
        document.getElementById('otp-info').innerText = `Code sent to ${user.email}`;

        // Send Email & Start Timer
        sendFastOTP(user);
        startTimer(180); // 3 Minutes
        
        // Mobile UX: Immediate keyboard focus
        setTimeout(() => otpInputs[0].focus(), 150);
    } catch (e) {
        alert("Login failed: " + e.message);
    }
};

// --- 2. Step 2: Send OTP via EmailJS ---
async function sendFastOTP(user) {
    generatedOTP = Math.floor(100000 + Math.random() * 900000).toString();
    otpExpiryTime = Date.now() + (3 * 60000);

    const templateParams = {
        user_email: user.email,
        passcode: generatedOTP,
        time: new Date(otpExpiryTime).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })
    };

    try {
        await emailjs.send('service_2ucolxw', 'template_iknmqfs', templateParams);
        console.log("OTP delivery successful");
    } catch (err) {
        alert("Email service error. Please refresh.");
    }
}

// --- 3. Step 3: Fast OTP Input Logic (Mobile Auto-Fetch) ---
otpInputs.forEach((input, index) => {
    // Jump to next box on type
    input.addEventListener('input', (e) => {
        if (e.target.value && index < otpInputs.length - 1) {
            otpInputs[index + 1].focus();
        }
        checkAndVerify();
    });

    // Support backspace navigation
    input.addEventListener('keydown', (e) => {
        if (e.key === 'Backspace' && !e.target.value && index > 0) {
            otpInputs[index - 1].focus();
        }
    });

    // Mobile Auto-fill/Paste Support
    input.addEventListener('paste', (e) => {
        const data = e.clipboardData.getData('text').trim();
        if (data.length === 6 && /^\d+$/.test(data)) {
            data.split('').forEach((char, i) => {
                otpInputs[i].value = char;
            });
            checkAndVerify();
        }
    });
});

// --- 4. Step 4: Instant Verification ---
function checkAndVerify() {
    const code = Array.from(otpInputs).map(i => i.value).join('');
    
    if (code.length === 6) {
        if (code === generatedOTP) {
            if (Date.now() <= otpExpiryTime) {
                // REDIRECT IMMEDIATELY
                window.location.replace("password.html");
            } else {
                alert("OTP has expired.");
                location.reload();
            }
        } else {
            alert("Incorrect code. Please check your email.");
            otpInputs.forEach(i => i.value = '');
            otpInputs[0].focus();
        }
    }
}

// --- 5. Countdown Timer ---
function startTimer(seconds) {
    clearInterval(timerInterval);
    let timeRemaining = seconds;

    timerInterval = setInterval(() => {
        const mins = Math.floor(timeRemaining / 60);
        const secs = timeRemaining % 60;
        timerDisplay.innerText = `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;

        if (--timeRemaining < 0) {
            clearInterval(timerInterval);
            timerDisplay.innerText = "EXPIRED";
            document.getElementById('verify-btn').disabled = true;
        }
    }, 1000);
}
</script>
    
<script>
document.addEventListener('DOMContentLoaded', () => {
    const btn = document.getElementById('theme-toggle-btn');
    const icon = document.getElementById('theme-icon');
    
    // 1. Load saved theme immediately on page load
    const savedTheme = localStorage.getItem('theme') || 'light';
    document.documentElement.setAttribute('data-theme', savedTheme);
    icon.textContent = savedTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';

    // 2. Click Event
    btn.addEventListener('click', () => {
        let currentTheme = document.documentElement.getAttribute('data-theme');
        let newTheme = currentTheme === 'dark' ? 'light' : 'dark';

        // Apply new theme
        document.documentElement.setAttribute('data-theme', newTheme);
        
        // Save to LocalStorage (works across all pages on your site)
        localStorage.setItem('theme', newTheme);
        
        // Update Icon
        icon.textContent = newTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
    });
});
</script>
     <button id="theme-toggle-btn">
    <span id="theme-icon">üåô</span>
</button>

<style>
    /* --- THEME TOGGLE BUTTON STYLING --- */
#theme-toggle-btn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 50; /* Above nav */
    width: 50px;
    height: 50px;
    border-radius: 50%;
    border: none;
    background: #4f46e5; /* Indigo-600 */
    color: white;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    font-size: 1.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.2s;
}

#theme-toggle-btn:active { transform: scale(0.9); }

/* --- DARK MODE OVERRIDES --- */
/* Target the Body */
[data-theme="dark"] body {
    background-color: #121212 !important;
    color: #e5e7eb !important;
}

/* Target your Nav, Containers, and Footer */
[data-theme="dark"] nav, 
[data-theme="dark"] .bg-white, 
[data-theme="dark"] #mobileMenu,
[data-theme="dark"] footer {
    background-color: #1f2937 !important; /* Dark Gray */
    color: #f3f4f6 !important;
}

/* Target Inputs and Textareas */
[data-theme="dark"] input, 
[data-theme="dark"] textarea {
    background-color: #374151 !important;
    color: white !important;
    border-color: #4b5563 !important;
}

/* Target Text Colors */
[data-theme="dark"] .text-gray-800,
[data-theme="dark"] .text-gray-700,
[data-theme="dark"] .text-gray-900,
[data-theme="dark"] label {
    color: #f3f4f6 !important;
}

/* Fix for specific Indigo headings to make them readable */
[data-theme="dark"] .text-indigo-700 {
    color: #818cf8 !important;
}
</style>
  

<script>
    // Check if the user was redirected because of a timeout
    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get('reason') === 'timeout') {
        document.getElementById('login-msg').style.display = 'block';
    }
</script>
<script>
  // 1. We push TWO states to ensure the 'Back' button is fully trapped
  window.history.pushState({exit: true}, null, "");
  window.history.pushState({exit: true}, null, "");

  window.onpopstate = function (event) {
    // 2. This triggers when 'Back' is pressed
    if (confirm("Do you want to exit the Personal App?")) {
      // 3. Try to close
      window.close();
      
      // 4. If close is blocked, force a 'Deep Back' to the phone home screen
      window.history.go(-2); 
      
      // 5. Ultimate fallback: Blank the app
      setTimeout(() => { window.location.href = "about:blank"; }, 300);
    } else {
      // 6. If they stay, reset the double trap
      window.history.pushState({exit: true}, null, "");
    }
  };
</script>
</body>
</html>
















